<div style="min-height: 30rem;">
  <div class="spinner text-center mt-5 mb-5" *ngIf="!productLoaded">
    <img src="./assets//svg/oval.svg" class="img-fluid" alt="">
  </div>
  <ng-container *ngIf="productLoaded">
    <div class="b-product_single_breadcrumbs pt-3 pb-3 hide">
      <div class="container">
        <div class="row clearfix">
          <div class="col-xl-8 col-lg-8 col-md-8 col-sm-8 col-xs-12">
            <div class="b-breadcrumbs">
              <a href="#">Home</a>
              <ng-container *ngIf="theproduct?.categoryName?.length">
                <a href="#" *ngFor="let cat of theproduct?.categoryName"
                  routerLink="/category/{{cat?.code}}">{{cat?.name | titlecase}}</a>
              </ng-container>
              <!-- <a href="#" routerLink="/category/all">Products</a> -->
              <span>{{theproduct?.productTitle | titlecase}}</span>
            </div>
          </div>
          <div class="col-xl-4 col-lg-4 col-md-4 col-sm-4 col-xs-12">
            <ul class="list-unstyled pl-0 float-right">
              <li style="cursor: pointer;" [ngClass]="prevProduct == 'undefined'?'':'d-none'" class="mr-2"><i
                  class="fa fa-long-arrow-left"></i></li>
              <li placement="left" [popoverTitle]="prevProduct?.productTitle" [popover]="prevProduct?.productDescription"
                triggers="mouseenter:mouseleave" style="cursor: pointer;"
                [ngClass]="prevProduct == 'undefined'?'d-none':''" [routerLink]="'../'+prevProduct?.productCode"
                class="mr-2"><i class="fa fa-long-arrow-left"></i></li>
  
              <li style="cursor: pointer;" [ngClass]="nextProduct == 'undefined'?'':'d-none'" class=""><i
                  class="fa fa-long-arrow-right"></i></li>
  
              <li placement="left" [popoverTitle]="nextProduct?.productTitle" [popover]="nextProduct?.productDescription"
                triggers="mouseenter:mouseleave" style="cursor: pointer;"
                [ngClass]="nextProduct == 'undefined'?'d-none':''" [routerLink]="'../'+nextProduct?.productCode" class="">
                <i class="fa fa-long-arrow-right"></i></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  
    <div class="b-product_single pb-5">
      <div class="container">
        <div class="row clearfix">
          <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12">
            <div class="row clearfix b-product-display b-bottom-thumbs">
              <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 b-display-single">
                <div class="b-product-carousel owl-carousel gallery" id="bSingleProductCarousel"
                  data-slider-id="bSingleProductCarousel">
                  <div class="b-produt-item">
                    <a href="{{theproduct?.primaryURL || './assets/images/not_available.jpg'}}">
                      <img [src]="theproduct?.primaryURL || './assets/images/not_available.jpg'" alt="" class="img-fluid">
                    </a>
                  </div>
                  <ng-container *ngIf="theproduct?.secondaryURL">
                    <div *ngFor="let secondURL of theproduct?.secondaryURL.split(';')"
                      class="owl-thumb-item b-display-item">
                      <img [src]="secondURL" alt="" class="img-fluid">
                    </div>
                  </ng-container>
                  <div class="b-produt-item" *ngIf="theproduct?.lineDrawing">
                    <a href="{{theproduct?.lineDrawing}}">
                      <img [src]="theproduct?.lineDrawing" alt="" class="img-fluid">
                    </a>
                  </div>
                  <!-- <div class="b-produt-item">
                    <img src="assets/images/products/product-single/woman-4.jpg" alt="" class="img-fluid"
                      data-zoomed="assets/images/products/product-single/woman-4.jpg">
                  </div>
                  <div class="b-produt-item">
                    <img src="assets/images/products/product-single/woman-6.jpg" alt="" class="img-fluid"
                      data-zoomed="assets/images/products/product-single/woman-6.jpg">
                  </div>
                  <div class="b-produt-item">
                    <img src="assets/images/products/product-single/woman-14.jpg" alt="" class="img-fluid"
                      data-zoomed="assets/images/products/product-single/woman-14.jpg">
                  </div>
                  <div class="b-produt-item">
                    <img src="assets/images/products/product-single/woman-17.jpg" alt="" class="img-fluid"
                      data-zoomed="assets/images/products/product-single/woman-17.jpg">
                  </div>
                  <div class="b-produt-item">
                    <img src="assets/images/products/product-single/woman-22.jpg" alt="" class="img-fluid"
                      data-zoomed="assets/images/products/product-single/woman-22.jpg">
                  </div> -->
                </div>
  
                <!-- <div class="b-additional-video-wrap ml-0">
                  <a href="https://www.youtube.com/embed/h_MPR25JD3E" class="b-additional-video-btn" data-rel="lightcase">
                    <span class="b-icon"><i class="icon-control-play icons"></i></span>
                    <span>Watch Video</span>
                  </a>
                </div> -->
                <!-- /b-additional-video-wrap -->
  
                <div class="b-show-product-gallery-wrap">
                  <!-- <a href="javaScript:void(0)"> -->
                  <!-- <i class="icon-magnifier-add icons"></i> -->
                  <a href="javascript:void(0)" (click)="enlarge()" class="b-expand_it"><i
                      class="icon-magnifier-add icons"></i></a>
                  <!-- </a> -->
                </div>
              </div>
              <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                <div class="b-display-list-wrapper">
                  <div class="owl-thumbs b-display-item-list slick-count" id="bSingleProductBottom"
                    data-slider-id="bSingleProductCarousel">
                    <div class="owl-thumb-item b-display-item">
                      <img [src]="theproduct?.primaryURL || './assets/images/not_available.jpg'" alt="" class="img-fluid">
                    </div>
                    <ng-container *ngIf="theproduct?.secondaryURL">
                      <div *ngFor="let secondURL of theproduct?.secondaryURL.split(';')"
                        class="owl-thumb-item b-display-item">
                        <img [src]="secondURL" alt="" class="img-fluid">
                      </div>
                    </ng-container>
                    <div *ngIf="theproduct?.lineDrawing" class="owl-thumb-item b-display-item">
                      <img [src]="theproduct?.lineDrawing" alt="" class="img-fluid">
                    </div>
                    <!-- <div class="owl-thumb-item b-display-item">
                      <img src="assets/images/products/product-single/woman-4.jpg" alt="" class="img-fluid">
                    </div>
                    <div class="owl-thumb-item b-display-item">
                      <img src="assets/images/products/product-single/woman-6.jpg" alt="" class="img-fluid">
                    </div>
                    <div class="owl-thumb-item b-display-item">
                      <img src="assets/images/products/product-single/woman-14.jpg" alt="" class="img-fluid">
                    </div>
                    <div class="owl-thumb-item b-display-item">
                      <img src="assets/images/products/product-single/woman-17.jpg" alt="" class="img-fluid">
                    </div>
                    <div class="owl-thumb-item b-display-item">
                      <img src="assets/images/products/product-single/woman-22.jpg" alt="" class="img-fluid">
                    </div> -->
                  </div>
  
                  <div class="b-slider-action" *ngIf="slick > 4">
                    <button class="slick-prev"><i class="icon-arrow-left icons"></i></button>
                    <button class="slick-next"><i class="icon-arrow-right icons"></i></button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-xl-6 col-lg-6 col-mb-6 col-sm-12 col-xs-12">
            <div class="b-product_single_summary" *ngIf="theproduct">
              <h1 id="content" #content>{{theproduct?.productTitle}}</h1>
              <p class="b-price">
                <span class="b-amount">{{theproduct?.productCode | uppercase}}</span>
              </p>
              <div class="b-produt_description">
                <h4 *ngIf="theproduct?.welsRating || theproduct?.litresPerMinute">
                  {{theproduct?.welsRating?theproduct?.welsRating:'' | titlecase }}{{theproduct?.litresPerMinute && theproduct?.welsRating?', ':''}}{{theproduct?.litresPerMinute !== ''?theproduct?.litresPerMinute:''}}
                </h4>
                <h5 class="sub-header">Product Description</h5>
                <p>{{theproduct?.productDescription}}.</p>
  
                <h6 *ngIf="theproduct?.welsRegistrationNumber">Wels Registration : {{theproduct?.welsRegistrationNumber}}
                </h6>
              </div>
              <div class="b-product_single_option">
                <ul class="pl-0 list-unstyled">
                </ul>
                <div class="b-product_single_action clearfix">
                  <button *ngIf="addToProject" [disabled]="!theproduct" (click)="addToProduct(theproduct)"
                    class="text-uppercase btn-block btn"><i class="fa fa-plus fa-fw"></i>
                    add to project</button>
                  <button *ngIf="!addToProject" [disabled]="!theproduct" routerLink="/login"
                    class="text-uppercase btn-block btn"><i class="fa fa-plus fa-fw"></i>
                    add to project</button>
                  <button [disabled]="!theproduct || !theproduct?.technicalSheetURL"
                    (click)="viewTechnicalDetails(theproduct?.technicalSheetURL)" class="text-uppercase btn-block btn"><i
                      class="fa fa-file-pdf-o fa-fw"></i>
                    View Technical Details</button>
                </div>
                <div class="row clearfix">
                  <div class="col-sm-12">
                    <button style="cursor: not-allowed;opacity: .65;" *ngIf="!isLoggin"
                      tooltip="Please login to download DWG File" class="text-uppercase pull-left btn">DWG File</button>
                    <button *ngIf="isLoggin" tooltip="Download" (click)="dwgFile(theproduct?.DWGFileURL)"
                      class="text-uppercase pull-left btn">DWG File</button>
  
                    <button style="cursor: not-allowed;opacity: .65;" *ngIf="!isLoggin"
                      tooltip="Please login to download REVIT File" class="text-uppercase pull-left btn">Revit
                      File</button>
                    <button *ngIf="isLoggin" tooltip="Download" (click)="revitFile(theproduct?.revitFileURL)"
                      class="text-uppercase pull-left btn">Revit File</button>
                  </div>
                </div>
                <div class=" clearfix product-features">
                  <button (click)="featureLink('features')" class="text-uppercase btn-block btn">View Product
                    Features</button>
                </div>
                <div *ngIf="theproduct?.issuEmbedURL" class="b-product_single_action clearfix installation-manual">
                  <button (click)="featureLink('installation-manual')" class="text-uppercase btn-block btn">Installation
                    Manual</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="features"></div>
      <div class="b-gray_bg b-product_tabs">
        <div class="container">
          <div class="row">
            <ul class="nav nav-tabs clearfix" role="tablist">
              <li class="nav-item">
                <a class="nav-link active text-uppercase" href="#tab-01" role="tab" data-toggle="tab">FEATURES</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-uppercase" href="#tab-02" role="tab" data-toggle="tab">Product Details</a>
              </li>
            </ul>
            <!-- Tab panes -->
            <div class="tab-content">
              <div role="tabpanel" class="tab-pane fade in active show" id="tab-01">
                <div
                  style="max-width: 700px;margin: 0 auto;width: 100%;font-family: 'Montserrat', sans-serif;font-size: 16px;">
                  <ul class="features">
                    <li *ngFor="let f of theproduct?.features">{{f}}</li>
                  </ul>
                </div>
                <!-- <ng-container *ngFor="let f of theproduct?.features">
                      <span>•</span>
                    <p>
                      {{f}}
                    </p>
                    </ng-container> -->
              </div>
              <div role="tabpanel" class="tab-pane fade" id="tab-02">
                <table class="b-shop_attributes">
                  <tbody>
                    <tr>
                      <th *ngIf="theproduct?.productCode">Product Code(s)</th>
                      <td>
                        <p>{{theproduct?.productCode}}</p>
                      </td>
                    </tr>
                    <tr>
                      <th>Colours/Finish</th>
                      <td *ngIf="theproduct?.colourFinish">
                        <p>{{theproduct?.colourFinish}}</p>
                      </td>
                    </tr>
                    <tr *ngIf="theproduct?.reach">
                      <th>Dimensions - Reach (mm)</th>
                      <td>
                        <p>{{theproduct?.reach}}</p>
                      </td>
                    </tr>
                    <tr *ngIf="theproduct?.height">
                      <th>Dimensions - Height (mm)</th>
                      <td>
                        <p>{{theproduct?.height}}</p>
                      </td>
                    </tr>
                    <tr *ngIf="theproduct?.width">
                      <th>Dimensions - Width (mm)</th>
                      <td>
                        <p>{{theproduct?.width}}</p>
                      </td>
                    </tr>
                    <tr *ngIf="theproduct?.leverlength">
                      <th>Lever Length</th>
                      <td>
                        <p>{{theproduct?.leverlength}}</p>
                      </td>
                    </tr>
                    <tr *ngIf="theproduct?.materials">
                      <th>Materials</th>
                      <td>
                        <p>{{theproduct?.materials}}</p>
                      </td>
                    </tr>
                    <tr *ngIf="theproduct?.inlet">
                      <th>Inlet</th>
                      <td>
                        <p>{{theproduct?.inlet}}</p>
                      </td>
                    </tr>
                    <tr *ngIf="theproduct?.outlet">
                      <th>Outlet</th>
                      <td>
                        <p>{{theproduct?.outlet}}</p>
                      </td>
                    </tr>
  
                    <tr *ngIf="theproduct?.servicing">
                      <th>Servicing</th>
                      <td>
                        <p>{{theproduct?.servicing}}</p>
                      </td>
                    </tr>
                    <tr *ngIf="theproduct?.warranty">
                      <th>Warranty</th>
                      <td>
                        <p>{{theproduct?.warranty}}</p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="container mt-5" id="installation-manual" *ngIf="theproduct?.issuEmbedURL">
        <div class="row clearfix">
          <div class="col-sm-12">
            <div class="b-filters_inner_area p-0">
              <div class="b-sidebar_widget categories">
                <h5 class="b-filter_title text-uppercase">installation manual</h5>
              </div>
            </div>
            <iframe [src]="theproduct?.issuEmbedURL | safe" style="border:none;width:100%;height:500px;"
              allowfullscreen></iframe>
            <!-- <iframe [src]="sanitizer.bypassSecurityTrustResourceUrl(theproduct?.issuEmbedURL)"
              style="border:none;width:100%;height:500px;" allowfullscreen></iframe> -->
          </div>
        </div>
      </div>
      <section id="b-products">
        <div class="b-section_title">
          <h4 class="text-center text-uppercase">
            RELATED PRODUCTS
            <span class="b-title_separator"><span></span></span>
          </h4>
        </div>
        <div class="b-products b-product_grid b-product_grid_four mb-4">
          <div class="container">
            <div class="row clearfix">
              <div class="col-xl-3 col-lg-3 col-md-3 col-sm-3 col-xs-12" *ngFor="let related of relateds">
                <div class="b-product_grid_single">
                  <div class="b-product_grid_header">
                    <a href="#" routerLink="/product/{{related?.productCode}}">
                      <img
                        data-src="assets/images/products/product-single/product_grid_10_01.jpg, assets/images/products/product-single/product_grid_10_02.jpg"
                        src="{{related?.primaryURL || './assets/images/not_available.jpg'}}"
                        class="img-fluid img-switch d-block" alt="">
                    </a>
                    <div class="b-product_grid_action">
                      <a href="javascript:void(0)" data-whishurl="whishlist.html" data-toggle="tooltip"
                        data-placement="left" title="" data-original-title="Add to Whishlist">
                        <i class="icon-heart icons b-add_to_whish">
                          <img src="assets/images/products/product_loading.gif" class="g-loading_gif" alt="">
                        </i>
                      </a>
                      <i data-toggle="tooltip" data-placement="left" title="" class="icon-refresh icons"
                        data-original-title="Compare"></i>
                      <a href="javascript:void(0);" data-toggle="modal" data-target="#b-qucik_view">
                        <i data-toggle="tooltip" data-placement="left" title="" class="icon-magnifier-add icons"
                          data-original-title="Quick View"></i>
                      </a>
                    </div>
                  </div>
                  <div class="b-product_grid_info">
                    <h3 class="product-title">
                      <a href="#"
                        routerLink="/product/{{related?.productCode}}">{{related?.productTitle | titlecase | words:4}}</a>
                    </h3>
                    <div class="clearfix">
                      <div class="b-product_grid_toggle float-left">
                        <span class="b-price">{{related?.productCode | uppercase}}</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <div class="container">
        <hr class="pb-4">
      </div>
    </div>
  </ng-container>
</div>